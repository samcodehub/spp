<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Image Detail - SPP</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Custom CSS -->
    <link rel="stylesheet" href="css/style.css">
    <style>
        .detail-image {
            max-height: 70vh;
            object-fit: contain;
        }
        
        .image-info {
            background-color: #f8f9fa;
            padding: 20px;
            border-radius: 5px;
        }
        
        .price {
            font-size: 1.5rem;
            font-weight: bold;
            color: var(--primary-color);
        }
        
        .related-images img {
            height: 150px;
            object-fit: cover;
            border-radius: 5px;
            transition: all 0.3s ease;
        }
        
        .related-images img:hover {
            opacity: 0.8;
            transform: scale(1.05);
        }
        
        @media (max-width: 768px) {
            .detail-image {
                max-height: 50vh;
            }
        }
    </style>
</head>
<body>
    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg navbar-dark custom-bg sticky-top">
        <div class="container">
            <a class="navbar-brand" href="index.html">SPP</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav me-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="index.html">Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="collection.html">Collection</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="about.html">About</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="contact.html">Contact</a>
                    </li>
                </ul>
                <div class="d-flex align-items-center">
                    <div class="language-toggle me-3">
                        <button id="lang-en" class="btn btn-sm btn-outline-light active">EN</button>
                        <button id="lang-de" class="btn btn-sm btn-outline-light">DE</button>
                    </div>
                    <a href="cart.html" class="text-white me-3">
                        <i class="fas fa-shopping-cart"></i>
                        <span id="cart-count" class="badge bg-danger">0</span>
                    </a>
                </div>
            </div>
        </div>
    </nav>

    <!-- Detail Content -->
    <div class="container my-5">
        <div class="row">
            <div class="col-md-8">
                <img id="detail-image" src="" alt="Image Detail" class="img-fluid detail-image">
            </div>
            <div class="col-md-4">
                <div class="image-info">
                    <h2 id="image-title"></h2>
                    <p><strong id="lang-date">Date:</strong> <span id="image-date"></span></p>
                    <p><strong id="lang-location">Location:</strong> <span id="image-location"></span></p>
                    <p><strong id="lang-category">Category:</strong> <span id="image-category"></span></p>
                    <p><strong id="lang-resolution">Resolution:</strong> 4500 x 3000 px</p>
                    <p><strong id="lang-format">Format:</strong> JPEG</p>
                    <p class="price">€25.00</p>
                    <button id="add-to-cart-btn" class="btn btn-primary w-100 mb-2">
                        <i class="fas fa-shopping-cart me-2"></i>
                        <span id="lang-add-to-cart">Add to Cart</span>
                    </button>
                    <button id="download-sample-btn" class="btn btn-outline-secondary w-100">
                        <i class="fas fa-download me-2"></i>
                        <span id="lang-download-sample">Download Sample</span>
                    </button>
                </div>
            </div>
        </div>

        <div class="mt-5">
            <h3 id="lang-related-images">Related Images</h3>
            <div class="row related-images mt-3" id="related-images">
                <!-- Related images will be inserted here dynamically -->
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="custom-bg text-white py-4">
        <div class="container">
            <div class="row">
                <div class="col-md-4">
                    <h5>SPP - Safari Press Photos</h5>
                    <p>Premium news images for media professionals</p>
                </div>
                <div class="col-md-4">
                    <h5>Quick Links</h5>
                    <ul class="list-unstyled">
                        <li><a href="index.html" class="text-white">Home</a></li>
                        <li><a href="collection.html" class="text-white">Collection</a></li>
                        <li><a href="about.html" class="text-white">About</a></li>
                        <li><a href="contact.html" class="text-white">Contact</a></li>
                    </ul>
                </div>
                <div class="col-md-4">
                    <h5>Connect With Us</h5>
                    <div class="social-icons">
                        <a href="#" class="text-white me-2"><i class="fab fa-facebook-f"></i></a>
                        <a href="#" class="text-white me-2"><i class="fab fa-instagram"></i></a>
                        <a href="#" class="text-white me-2"><i class="fab fa-linkedin-in"></i></a>
                    </div>
                </div>
            </div>
            <hr>
            <div class="text-center">
                <p>&copy; 2024 Safari Press Photos. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <!-- Notification -->
    <style>
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background-color: rgba(0,0,0,0.8);
            color: white;
            padding: 15px 20px;
            border-radius: 5px;
            transform: translateX(150%);
            transition: all 0.5s ease;
            z-index: 1000;
        }
        
        .notification.show {
            transform: translateX(0);
        }
    </style>

    <!-- Bootstrap JS Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Image Data
            const images = [
                { id: 1, src: 'img/1.jpeg', title: 'Protest in Frankfurt', date: '2023-06-15', location: 'Frankfurt, Germany', category: 'politics' },
                { id: 2, src: 'img/2.jpg', title: 'Cultural Festival', date: '2023-07-22', location: 'Berlin, Germany', category: 'culture' },
                { id: 3, src: 'img/3.jpg', title: 'Political Rally', date: '2023-08-10', location: 'Munich, Germany', category: 'politics' },
                { id: 4, src: 'img/4.jpg', title: 'Environmental Protest', date: '2023-09-05', location: 'Hamburg, Germany', category: 'environment' },
                { id: 5, src: 'img/5.jpg', title: 'Sports Championship', date: '2023-10-12', location: 'Cologne, Germany', category: 'sports' },
                { id: 6, src: 'img/6.jpg', title: 'Urban Life', date: '2023-11-18', location: 'Dresden, Germany', category: 'society' },
                { id: 7, src: 'img/7.jpeg', title: 'Medical Conference', date: '2023-12-01', location: 'Düsseldorf, Germany', category: 'health' },
                { id: 8, src: 'img/8.jpeg', title: 'Technology Expo', date: '2024-01-15', location: 'Stuttgart, Germany', category: 'technology' },
                { id: 9, src: 'img/9.jpeg', title: 'Economic Forum', date: '2024-02-20', location: 'Bonn, Germany', category: 'economy' },
                { id: 10, src: 'img/10.jpg', title: 'Education Summit', date: '2024-03-05', location: 'Leipzig, Germany', category: 'education' },
                { id: 11, src: 'img/11.jpg', title: 'Art Exhibition', date: '2024-03-25', location: 'Frankfurt, Germany', category: 'culture' },
                { id: 12, src: 'img/12.jpg', title: 'Climate Protest', date: '2024-04-10', location: 'Berlin, Germany', category: 'environment' },
                { id: 13, src: 'img/13.jpg', title: 'Election Campaign', date: '2024-04-20', location: 'Munich, Germany', category: 'politics' },
                { id: 14, src: 'img/14.jpg', title: 'Music Festival', date: '2024-05-01', location: 'Hamburg, Germany', category: 'culture' },
                { id: 15, src: 'img/15.jpg', title: 'Refugee Aid', date: '2024-05-15', location: 'Cologne, Germany', category: 'humanitarian' },
                { id: 16, src: 'img/16.jpg', title: 'Urban Development', date: '2024-05-22', location: 'Dresden, Germany', category: 'society' },
                { id: 17, src: 'img/17.jpg', title: 'Healthcare Reform Protest', date: '2024-06-01', location: 'Düsseldorf, Germany', category: 'health' },
                { id: 18, src: 'img/18.jpg', title: 'Tech Conference', date: '2024-06-10', location: 'Stuttgart, Germany', category: 'technology' },
                { id: 19, src: 'img/19.jpg', title: 'Financial Summit', date: '2024-06-15', location: 'Bonn, Germany', category: 'economy' },
                { id: 20, src: 'img/20.jpeg', title: 'Education Reform', date: '2024-06-20', location: 'Leipzig, Germany', category: 'education' }
            ];
            
            // Get image ID from URL parameter
            const urlParams = new URLSearchParams(window.location.search);
            const imageId = parseInt(urlParams.get('id'));
            
            // Site Language
            let currentLanguage = 'en';
            
            // Shopping Cart
            let cart = JSON.parse(localStorage.getItem('sppCart')) || [];
            updateCartCount();
            
            // Find the image by ID
            const image = images.find(img => img.id === imageId);
            
            if (!image) {
                // Redirect to home if image not found
                window.location.href = 'index.html';
                return;
            }
            
            // Populate image details
            populateImageDetails(image);
            
            // Show related images
            showRelatedImages(image);
            
            // Add to cart button functionality
            document.getElementById('add-to-cart-btn').addEventListener('click', function() {
                addToCart(image.id);
            });
            
            // Language Toggle
            document.getElementById('lang-en').addEventListener('click', function() {
                if (currentLanguage !== 'en') {
                    setLanguage('en');
                }
            });

            document.getElementById('lang-de').addEventListener('click', function() {
                if (currentLanguage !== 'de') {
                    setLanguage('de');
                }
            });
            
            // Functions
            function populateImageDetails(image) {
                document.getElementById('detail-image').src = image.src;
                document.getElementById('detail-image').alt = image.title;
                document.getElementById('image-title').textContent = image.title;
                
                const date = new Date(image.date);
                const formattedDate = date.toLocaleDateString(currentLanguage === 'en' ? 'en-US' : 'de-DE', {
                    year: 'numeric',
                    month: 'long',
                    day: 'numeric'
                });
                
                document.getElementById('image-date').textContent = formattedDate;
                document.getElementById('image-location').textContent = image.location;
                document.getElementById('image-category').textContent = image.category.charAt(0).toUpperCase() + image.category.slice(1);
                
                // Update button state if already in cart
                if (cart.some(item => item.id === image.id)) {
                    const addButton = document.getElementById('add-to-cart-btn');
                    addButton.classList.remove('btn-primary');
                    addButton.classList.add('btn-success');
                    addButton.disabled = true;
                    document.getElementById('lang-add-to-cart').textContent = currentLanguage === 'en' ? 'Added to Cart' : 'Im Warenkorb';
                }
            }
            
            function showRelatedImages(currentImage) {
                // Find images in the same category
                const relatedImages = images
                    .filter(img => img.category === currentImage.category && img.id !== currentImage.id)
                    .slice(0, 4); // Show up to 4 related images
                
                const relatedContainer = document.getElementById('related-images');
                relatedContainer.innerHTML = '';
                
                relatedImages.forEach(img => {
                    const col = document.createElement('div');
                    col.className = 'col-md-3 col-6 mb-3';
                    col.innerHTML = `
                        <a href="detail.html?id=${img.id}">
                            <img src="${img.src}" alt="${img.title}" class="img-fluid w-100">
                        </a>
                    `;
                    relatedContainer.appendChild(col);
                });
            }
            
            function addToCart(imageId) {
                if (!cart.some(item => item.id === imageId)) {
                    cart.push({
                        id: image.id,
                        title: image.title,
                        src: image.src,
                        price: 25.00 // Default price for all images
                    });
                    
                    localStorage.setItem('sppCart', JSON.stringify(cart));
                    updateCartCount();
                    
                    // Update button
                    const addButton = document.getElementById('add-to-cart-btn');
                    addButton.classList.remove('btn-primary');
                    addButton.classList.add('btn-success');
                    addButton.disabled = true;
                    document.getElementById('lang-add-to-cart').textContent = currentLanguage === 'en' ? 'Added to Cart' : 'Im Warenkorb';
                    
                    // Show notification
                    showNotification(currentLanguage === 'en' ? 'Added to cart!' : 'Zum Warenkorb hinzugefügt!');
                }
            }
            
            function updateCartCount() {
                const cartCount = document.getElementById('cart-count');
                cartCount.textContent = cart.length;
            }
            
            function showNotification(message) {
                const notification = document.createElement('div');
                notification.className = 'notification';
                notification.innerText = message;
                
                document.body.appendChild(notification);
                
                setTimeout(() => {
                    notification.classList.add('show');
                }, 100);
                
                setTimeout(() => {
                    notification.classList.remove('show');
                    setTimeout(() => {
                        document.body.removeChild(notification);
                    }, 500);
                }, 2000);
            }
            
            function setLanguage(lang) {
                currentLanguage = lang;
                
                // Update UI elements based on language
                if (lang === 'en') {
                    document.getElementById('lang-en').classList.add('active');
                    document.getElementById('lang-de').classList.remove('active');
                    // Update text elements
                    updateTextElements('en');
                } else {
                    document.getElementById('lang-de').classList.add('active');
                    document.getElementById('lang-en').classList.remove('active');
                    // Update text elements
                    updateTextElements('de');
                }
                
                // Refresh image details to update date format
                populateImageDetails(image);
            }
            
            function updateTextElements(lang) {
                const translations = {
                    en: {
                        home: 'Home',
                        collection: 'Collection',
                        about: 'About',
                        contact: 'Contact',
                        date: 'Date:',
                        location: 'Location:',
                        category: 'Category:',
                        resolution: 'Resolution:',
                        format: 'Format:',
                        addToCart: 'Add to Cart',
                        addedToCart: 'Added to Cart',
                        downloadSample: 'Download Sample',
                        relatedImages: 'Related Images',
                        footer: 'Premium news images for media professionals',
                        quickLinks: 'Quick Links',
                        connectWithUs: 'Connect With Us'
                    },
                    de: {
                        home: 'Startseite',
                        collection: 'Kollektion',
                        about: 'Über Uns',
                        contact: 'Kontakt',
                        date: 'Datum:',
                        location: 'Ort:',
                        category: 'Kategorie:',
                        resolution: 'Auflösung:',
                        format: 'Format:',
                        addToCart: 'In den Warenkorb',
                        addedToCart: 'Im Warenkorb',
                        downloadSample: 'Muster Herunterladen',
                        relatedImages: 'Ähnliche Bilder',
                        footer: 'Premium-Nachrichtenbilder für Medienprofis',
                        quickLinks: 'Schnelllinks',
                        connectWithUs: 'Verbinde dich mit uns'
                    }
                };
                
                // Helper function to safely update text content
                function safelyUpdateText(selector, text) {
                    const element = document.querySelector(selector);
                    if (element) {
                        element.textContent = text;
                    }
                }

                function safelyUpdateById(id, text) {
                    const element = document.getElementById(id);
                    if (element) {
                        element.textContent = text;
                    }
                }
                
                // Update navbar
                safelyUpdateText('.nav-link[href="index.html"]', translations[lang].home);
                safelyUpdateText('.nav-link[href="collection.html"]', translations[lang].collection);
                safelyUpdateText('.nav-link[href="about.html"]', translations[lang].about);
                safelyUpdateText('.nav-link[href="contact.html"]', translations[lang].contact);
                
                // Update details labels
                safelyUpdateById('lang-date', translations[lang].date);
                safelyUpdateById('lang-location', translations[lang].location);
                safelyUpdateById('lang-category', translations[lang].category);
                safelyUpdateById('lang-resolution', translations[lang].resolution);
                safelyUpdateById('lang-format', translations[lang].format);
                
                // Update buttons
                const addButton = document.getElementById('add-to-cart-btn');
                if (addButton && addButton.disabled) {
                    safelyUpdateById('lang-add-to-cart', translations[lang].addedToCart);
                } else {
                    safelyUpdateById('lang-add-to-cart', translations[lang].addToCart);
                }
                
                safelyUpdateById('lang-download-sample', translations[lang].downloadSample);
                safelyUpdateById('lang-related-images', translations[lang].relatedImages);
                
                // Update footer
                safelyUpdateText('footer p:first-of-type', translations[lang].footer);
                safelyUpdateText('footer h5:nth-of-type(2)', translations[lang].quickLinks);
                safelyUpdateText('footer h5:nth-of-type(3)', translations[lang].connectWithUs);
                
                // Update footer links
                safelyUpdateText('footer a[href="index.html"]', translations[lang].home);
                safelyUpdateText('footer a[href="collection.html"]', translations[lang].collection);
                safelyUpdateText('footer a[href="about.html"]', translations[lang].about);
                safelyUpdateText('footer a[href="contact.html"]', translations[lang].contact);
            }
        });
    </script>
</body>
</html> 